{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const LOCAL_KEY = \"feedback-form-stage\"; //new\nconst form = document.querySelector(\".feedback-form\"); //new\n\nform.addEventListener(\"submit\", handleSubmit);\nform.addEventListener(\"input\", onTextInput); //new\nreload();\n\n//Отримуємо значення поля. Зберігаємо його в сховищі\nfunction onTextInput(event) {\n  let savedInput = localStorage.getItem(LOCAL_KEY);\n  savedInput = savedInput ? JSON.parse(savedInput) : {};\n  let { email, message } = form.elements;\n  savedInput = {\n    email: email.value.trim(),\n    message: message.value.trim(),\n  }\n    const emailText = event.target.value;\n    localStorage.setItem(LOCAL_KEY, JSON.stringify(savedInput));\n}\n\n//Отримуємо дані зі сховища. Якщо там щось було, то оновлюємо DOM \n//значення зі сховища з'являються в полях на екрані форми\nfunction reload() {\n  let savedInput = localStorage.getItem(LOCAL_KEY);\n  if (savedInput) {\n    savedInput = JSON.parse(savedInput);\n    Object.entries(savedInput).forEach(([name, value]) => {\n      form.elements[name].value = value ?? '';\n    })\n  }\n}\n\n//Відправляємо форму та видаляємо ключі з localStorage\nfunction handleSubmit(event) {\n  event.preventDefault();\n  const { email, message } = event.currentTarget.elements; // new\n  console.log({ email: email.value, message: message.value }); //new\n  console.log(\"handleSubmit :\", event);\n  console.log(\"Ваше повідомлення відправлено\");\n  localStorage.removeItem(LOCAL_KEY); //new\n  event.currentTarget.reset();\n}\n\n\n\n// const LOCAL_KEY_EMAIL = \"feedback-form-email\";\n// const LOCAL_KEY_MSG   = \"feedback-form-msg\";\n// const inputEmail   = document.querySelector(\".form-email\");\n// const inputMessage = document.querySelector(\"textarea\");\n// const form = document.querySelector(\".feedback-form\");\n\n// form.addEventListener(\"submit\", handleSubmit);\n// inputEmail.addEventListener(\"input\", onEmailInput);\n// reload();\n\n// inputMessage.addEventListener(\"input\", onMessageInput);\n// reload();\n\n// //Отримуємо значення поля. Зберігаємо його в сховищі\n// function onEmailInput(event) {\n//     const emailText = event.target.value;\n//     localStorage.setItem(LOCAL_KEY_EMAIL, emailText);\n// }\n\n// //Отримуємо значення поля. Зберігаємо його в сховищі\n// function onMessageInput(event) {\n//     const messageText = event.target.value;\n//     localStorage.setItem(LOCAL_KEY_MSG, messageText);\n// } \n\n// //Отримуємо дані зі сховища. Якщо там щось було, то оновлюємо DOM \n// //значення зі сховища з'являються в полях на екрані форми\n// function reload() {\n//     const savedEmail = localStorage.getItem(LOCAL_KEY_EMAIL);\n//     if (savedEmail) {\n//         inputEmail.value = savedEmail;\n//     }\n//         const savedMessage = localStorage.getItem(LOCAL_KEY_MSG);\n//     if (savedMessage) {\n//         inputMessage.value = savedMessage;\n//     }\n// }\n\n// //Відправляємо форму та видаляємо ключі з localStorage\n// function handleSubmit(event) {\n//     event.preventDefault();\n//     console.log(\"handleSubmit :\", event);\n//     console.log(\"Ваше повідомлення відправлено\");\n//     localStorage.removeItem(LOCAL_KEY_EMAIL);\n//     localStorage.removeItem(LOCAL_KEY_MSG);\n//     event.currentTarget.reset();\n// }"],"names":["LOCAL_KEY","form","handleSubmit","onTextInput","reload","event","savedInput","email","message","name","value"],"mappings":"oCAAA,MAAMA,EAAY,sBACZC,EAAO,SAAS,cAAc,gBAAgB,EAEpDA,EAAK,iBAAiB,SAAUC,CAAY,EAC5CD,EAAK,iBAAiB,QAASE,CAAW,EAC1CC,IAGA,SAASD,EAAYE,EAAO,CAC1B,IAAIC,EAAa,aAAa,QAAQN,CAAS,EAC/CM,EAAaA,EAAa,KAAK,MAAMA,CAAU,EAAI,CAAA,EACnD,GAAI,CAAE,MAAAC,EAAO,QAAAC,GAAYP,EAAK,SAC9BK,EAAa,CACX,MAAOC,EAAM,MAAM,KAAM,EACzB,QAASC,EAAQ,MAAM,KAAM,CAC9B,EACmBH,EAAM,OAAO,MAC/B,aAAa,QAAQL,EAAW,KAAK,UAAUM,CAAU,CAAC,CAC9D,CAIA,SAASF,GAAS,CAChB,IAAIE,EAAa,aAAa,QAAQN,CAAS,EAC3CM,IACFA,EAAa,KAAK,MAAMA,CAAU,EAClC,OAAO,QAAQA,CAAU,EAAE,QAAQ,CAAC,CAACG,EAAMC,CAAK,IAAM,CACpDT,EAAK,SAASQ,CAAI,EAAE,MAAQC,GAAS,EAC3C,CAAK,EAEL,CAGA,SAASR,EAAaG,EAAO,CAC3BA,EAAM,eAAc,EACpB,KAAM,CAAE,MAAAE,EAAO,QAAAC,CAAO,EAAKH,EAAM,cAAc,SAC/C,QAAQ,IAAI,CAAE,MAAOE,EAAM,MAAO,QAASC,EAAQ,KAAK,CAAE,EAC1D,QAAQ,IAAI,iBAAkBH,CAAK,EACnC,QAAQ,IAAI,+BAA+B,EAC3C,aAAa,WAAWL,CAAS,EACjCK,EAAM,cAAc,OACtB"}
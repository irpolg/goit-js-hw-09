{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["// Завдання 2 - Форма зворотного зв'язку\n// Виконуй це завдання у файлах 2-form.html і 2-form.js.\n// Додай у HTML розмітку форми.У JS напиши скрипт,\n//     який буде зберігати значення полів у локальне сховище,\n//     коли користувач щось друкує.\n\nconst LOCAL_KEY = \"feedback-form-stage\"; \nconst form = document.querySelector(\".feedback-form\"); \n\nform.addEventListener(\"submit\", handleSubmit);\nform.addEventListener(\"input\", onTextInput); \nreload();\n\n//Отримуємо значення поля. Зберігаємо його в сховищі\n// function onTextInput(event) {\n//   let savedInput = localStorage.getItem(LOCAL_KEY);\n//   savedInput = savedInput ? JSON.parse(savedInput) : {};\n//   let { email, message } = form.elements;\n//   savedInput = {\n//     email: email.value.trim(),\n//     message: message.value.trim(),\n//   }\n//     const emailText = event.target.value;\n//     localStorage.setItem(LOCAL_KEY, JSON.stringify(savedInput));\n// }\nfunction onInputData(event) {\n  let savedInput = localStorage.getItem(LOCAL_KEY);\n  savedInput = savedInput ? JSON.parse(savedInput) : {};\n  savedInput[event.target.name] = event.target.value.trim();\n  localStorage.setItem(LOCAL_KEY, JSON.stringify(savedInput));\n}\n\n//Отримуємо дані зі сховища. Якщо там щось було, то оновлюємо DOM \n//значення зі сховища з'являються в полях на екрані форми\n// function reload() {\n//   let savedInput = localStorage.getItem(LOCAL_KEY);\n//   if (savedInput) {\n//     savedInput = JSON.parse(savedInput);\n//     Object.entries(savedInput).forEach(([name, value]) => {\n//       form.elements[name].value = value ?? '';\n//     })\n//   }\n// }\nfunction reloadPage() {\n  if (savedInput) {\n    email.value = savedInput.email || '';\n    message.value = savedInput.message || '';\n  }\n}\n\n//Відправляємо форму та видаляємо ключі з localStorage\nfunction handleSubmit(event) {\n  event.preventDefault();\n  const { email, message } = event.currentTarget.elements; // new\n  console.log({ email: email.value, message: message.value }); //new\n  // console.log(\"handleSubmit :\", event);\n  // console.log(\"Ваше повідомлення відправлено\");\n  localStorage.removeItem(LOCAL_KEY); //new\n  event.currentTarget.reset();\n}"],"names":["LOCAL_KEY","form","handleSubmit","event","email","message"],"mappings":"oCAMA,MAAMA,EAAY,sBACZC,EAAO,SAAS,cAAc,gBAAgB,EAEpDA,EAAK,iBAAiB,SAAUC,CAAY,EAC5CD,EAAK,iBAAiB,QAAS,WAAW,EAC1C,SAwCA,SAASC,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,KAAM,CAAE,MAAAC,EAAO,QAAAC,CAAO,EAAKF,EAAM,cAAc,SAC/C,QAAQ,IAAI,CAAE,MAAOC,EAAM,MAAO,QAASC,EAAQ,KAAK,CAAE,EAG1D,aAAa,WAAWL,CAAS,EACjCG,EAAM,cAAc,OACtB"}
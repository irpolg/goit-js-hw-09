{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["// Завдання 2 - Форма зворотного зв'язку\n// Виконуй це завдання у файлах 2-form.html і 2-form.js.\n// Додай у HTML розмітку форми.У JS напиши скрипт,\n//     який буде зберігати значення полів у локальне сховище,\n//     коли користувач щось друкує.\n\nconst LOCAL_KEY = \"feedback-form-stage\"; \nconst form = document.querySelector(\".feedback-form\"); \n\nform.addEventListener(\"submit\", handleSubmit);\nform.addEventListener(\"input\", onTextInput); \nreload();\n\n//Отримуємо значення поля. Зберігаємо його в сховищі\nfunction onTextInput(event) {\n  let savedInput = localStorage.getItem(LOCAL_KEY);\n  savedInput = savedInput ? JSON.parse(savedInput) : {};\n  let { email, message } = form.elements;\n  savedInput = {\n    email: email.value.trim(),\n    message: message.value.trim(),\n  }\n    const emailText = event.target.value;\n    localStorage.setItem(LOCAL_KEY, JSON.stringify(savedInput));\n}\n\n//Отримуємо дані зі сховища. Якщо там щось було, то оновлюємо DOM \n//значення зі сховища з'являються в полях на екрані форми\n// function reload() {\n//   let savedInput = localStorage.getItem(LOCAL_KEY);\n//   if (savedInput) {\n//     savedInput = JSON.parse(savedInput);\n//     Object.entries(savedInput).forEach(([name, value]) => {\n//       form.elements[name].value = value ?? '';\n//     })\n//   }\n// }\nfunction reload() {\n  if (savedInput) {\n    email.value = savedInput.email || '';\n    message.value = savedInput.message || '';\n  }\n}\n\n//Відправляємо форму та видаляємо ключі з localStorage\nfunction handleSubmit(event) {\n  event.preventDefault();\n  const { email, message } = event.currentTarget.elements; // new\n  console.log({ email: email.value, message: message.value }); //new\n  // console.log(\"handleSubmit :\", event);\n  // console.log(\"Ваше повідомлення відправлено\");\n  localStorage.removeItem(LOCAL_KEY); //new\n  event.currentTarget.reset();\n}"],"names":["LOCAL_KEY","form","handleSubmit","onTextInput","reload","event","savedInput","email","message"],"mappings":"oCAMA,MAAMA,EAAY,sBACZC,EAAO,SAAS,cAAc,gBAAgB,EAEpDA,EAAK,iBAAiB,SAAUC,CAAY,EAC5CD,EAAK,iBAAiB,QAASE,CAAW,EAC1CC,IAGA,SAASD,EAAYE,EAAO,CAC1B,IAAIC,EAAa,aAAa,QAAQN,CAAS,EAC/CM,EAAaA,EAAa,KAAK,MAAMA,CAAU,EAAI,CAAA,EACnD,GAAI,CAAE,MAAAC,EAAO,QAAAC,GAAYP,EAAK,SAC9BK,EAAa,CACX,MAAOC,EAAM,MAAM,KAAM,EACzB,QAASC,EAAQ,MAAM,KAAM,CAC9B,EACmBH,EAAM,OAAO,MAC/B,aAAa,QAAQL,EAAW,KAAK,UAAUM,CAAU,CAAC,CAC9D,CAaA,SAASF,GAAS,CACZ,aACF,MAAM,MAAQ,WAAW,OAAS,GAClC,QAAQ,MAAQ,WAAW,SAAW,GAE1C,CAGA,SAASF,EAAaG,EAAO,CAC3BA,EAAM,eAAc,EACpB,KAAM,CAAE,MAAAE,EAAO,QAAAC,CAAO,EAAKH,EAAM,cAAc,SAC/C,QAAQ,IAAI,CAAE,MAAOE,EAAM,MAAO,QAASC,EAAQ,KAAK,CAAE,EAG1D,aAAa,WAAWR,CAAS,EACjCK,EAAM,cAAc,OACtB"}